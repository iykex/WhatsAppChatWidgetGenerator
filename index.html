<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://whatsappwidgetgenerator.vercel.app">
<meta property="og:title" content="WhatsApp Chat Widget Code Generator">
<meta property="og:description" content="Generate a WhatsApp chat overlay widget for your website instantly. Enter your company name and WhatsApp number to get ready-to-use HTML, CSS, and JS code.">
<meta property="og:image" content="https://whatsappwidgetgenerator.vercel.app/whatsappWidget.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://whatsappwidgetgenerator.vercel.app">
<meta property="twitter:title" content="WhatsApp Chat Widget Code Generator">
<meta property="twitter:description" content="Generate a WhatsApp chat overlay widget for your website instantly. Enter your company name and WhatsApp number to get ready-to-use HTML, CSS, and JS code.">
<meta property="twitter:image" content="https://whatsappwidgetgenerator.vercel.app/whatsappWidget.jpg">

<!-- Additional SEO -->
<meta name="keywords" content="WhatsApp widget generator, WhatsApp website chat, HTML WhatsApp chat, website chat code, WhatsApp integration, chat overlay widget">
<meta name="author" content="NiiAbe">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background:#f7f7f9; padding:30px; }
    .card { box-shadow:0 6px 20px rgba(0,0,0,.06); }
    pre#generated { height:420px; overflow:auto; white-space:pre-wrap; background:#0f1724; color:#e6ffed; padding:12px; border-radius:6px; }
    .preview-area { min-height:180px; border:1px dashed #ddd; border-radius:6px; padding:12px; background:#fff; }
    .small-muted { font-size:.85rem; color:#6c757d; }
  </style>
</head>
<body>

<div class="container">
  <h1 class="mb-4">WhatsApp Widget Generator</h1>

  <div class="row g-4">
    <!-- Form (left) -->
    <div class="col-lg-5">
      <div class="card p-3">
        <form id="widgetForm">
          <div class="mb-3">
            <label class="form-label">Company / Website Name</label>
            <input class="form-control" id="companyName" placeholder="Website/Company Name" required>
            <div class="form-text small-muted">This replaces <code>Website/Company Name</code> in the widget.</div>
          </div>

          <div class="mb-3">
            <label class="form-label">WhatsApp Phone Number</label>
            <input class="form-control" id="phoneNumber" placeholder="+233 20 196 6123" required>
            <div class="form-text small-muted">Include country code. Any spaces, + or punctuation will be removed for the wa.me &amp; web.whatsapp URLs.</div>
          </div>

          <div class="mb-3">
            <label class="form-label">Greeting Message (inside chat)</label>
            <input class="form-control" id="greeting" placeholder="How can we help you?" value="How can we help you?" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Outer quick message</label>
            <input class="form-control" id="outerMessage" placeholder="Need Help? Chat With Us." value="Need Help? Chat With Us.">
            <div class="form-text small-muted">This text appears on the little outer bubble.</div>
          </div>

          <div class="d-grid gap-2">
            <button class="btn btn-success" id="generateBtn" type="submit">Generate Code</button>
          </div>
        </form>

        <hr>

        <div>
          <label class="form-label mb-1">Live Preview</label>
          <div class="preview-area" id="previewArea">
            <!-- preview is injected here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Code (right) -->
    <div class="col-lg-7">
      <div class="card p-3">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <div>
            <h5 class="mb-0">Generated Widget Code</h5>
            <small class="text-muted">Copy and paste this into your site's HTML (before <code>&lt;/body&gt;</code>).</small>
          </div>
          <div class="btn-group">
            <button id="copyBtn" class="btn btn-outline-primary btn-sm">Copy Code</button>
            <button id="downloadBtn" class="btn btn-outline-secondary btn-sm">Download .html</button>
          </div>
        </div>

        <pre id="generated" aria-hidden="false"></pre>
      </div>
    </div>
  </div>
</div>

<!-- whatsapp Over lay -->
 <!-- WhatsApp Widget (generated) -->
<div id="whatswidget-pre-wrapper">
  <div class="whatswidget-widget-wrapper">
    <div id="whatswidget-conversation" class="whatswidget-conversation" style="display:none;opacity:0;">
      <div class="whatswidget-conversation-header">
        <div id="whatswidget-conversation-title" class="whatswidget-conversation-title text-black">Hi</div>
      </div>

      <div id="whatswidget-conversation-message" class="whatswidget-conversation-message">How can we help you?</div>

      <div class="whatswidget-conversation-cta">
        <a id="whatswidget-phone-desktop" target="_blank" href="https://web.whatsapp.com/send?phone=233201966123" class="whatswidget-cta whatswidget-cta-desktop">Send message</a>
        <a id="whatswidget-phone-mobile" target="_blank" href="https://wa.me/233201966123" class="whatswidget-cta whatswidget-cta-mobile">Send message</a>
      </div>
    </div>

    <div id="whatswidget-conversation-message-outer" class="whatswidget-conversation-message-outer">
      <span id="whatswidget-text-header-outer" class="whatswidget-text-header-outer">Hi</span><br>
      <div id="whatswidget-text-message-outer" class="whatswidget-text-message-outer">Need Help? Chat With Us.</div>
    </div>

    <div class="whatswidget-button-wrapper">
      <div class="whatswidget-button" id="whatswidget-button">
        <div style="margin:0 auto;width:38.5px;">
          <img class="whatswidget-icon" alt="WhatsappLogo" src="https://www.oflox.com/blog/wp-content/uploads/2021/01/wpwhite.png">
        </div>
      </div>
    </div>
  </div>

  <style>
    .whatswidget-widget-wrapper {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 16px;
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 1001;
    }
    .whatswidget-conversation {
      background-color: #e4dcd4;
      background-image: url('https://www.oflox.com/blog/wp-content/uploads/2021/01/wpbg.png');
      background-repeat: repeat;
      box-shadow: rgba(0, 0, 0, 0.16) 0px 5px 40px;
      width: 250px;
      height: 300px;
      border-radius: 10px;
      transition-duration: 0.5s;
      margin-bottom: 80px;
    }
    .whatswidget-conversation-header {
      background-color: #25D366;
      padding: 10px 25px;
      box-shadow: 0px 1px #00000029;
      font-weight: 600;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }
    .whatswidget-conversation-message {
      line-height: 1.2em;
      background-color: #25D366;
      padding: 10px;
      margin: 10px 15px;
      border-radius: 5px;
      color: white;
    }
    .whatswidget-conversation-message-outer {
      background-color: #25D366;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      box-shadow: rgba(0, 0, 0, 0.34) 0px 2.5px 10px;
      cursor: pointer;
      animation: nudge 2s linear infinite;
      margin-bottom: 70px;
      color: white;
    }
    .whatswidget-text-header-outer {
      font-weight: bold;
      font-size: 90%;
    }
    .whatswidget-text-message-outer {
      font-size: 90%;
    }
    .whatswidget-conversation-cta {
      border-radius: 25px;
      width: 175px;
      font-size: 110%;
      padding: 10px;
      margin: 0 auto;
      text-align: center;
      background-color: #23b123;
      color: white;
      font-weight: bold;
      box-shadow: rgba(0, 0, 0, 0.16) 0px 2.5px 10px;
      position: absolute;
      top: 62%;
      left: 10%;
      transition: 1s;
    }
    .whatswidget-conversation-cta:hover {
      transform: scale(1.1);
      filter: brightness(1.3);
    }
    .whatswidget-cta {
      text-decoration: none;
      color: white;
    }
    .whatswidget-cta-desktop { display: none; }
    .whatswidget-cta-mobile { display: inherit; }
    @media (min-width: 768px) {
      .whatswidget-cta-desktop { display: inherit; }
      .whatswidget-cta-mobile { display: none; }
    }
    .whatswidget-button-wrapper {
      position: fixed;
      bottom: 15px;
      right: 15px;
    }
    .whatswidget-button {
      background-color: #31d831;
      border-radius: 100%;
      width: 60px;
      height: 60px;
      box-shadow: 2px 1px #0d630d63;
      transition: 1s;
      position: relative;
    }
    .whatswidget-icon {
      width: 42px;
      height: 42px;
      position: absolute;
      bottom: 10px;
      left: 10px;
    }
    .whatswidget-button:hover {
      filter: brightness(115%);
      transform: rotate(15deg) scale(1.15);
      cursor: pointer;
    }
    @keyframes nudge {
      20%, 100% { transform: translate(0, 0); }
      0% { transform: translate(0, 5px) rotate(2deg); }
      10% { transform: translate(0, -5px) rotate(-2deg); }
    }
  </style>

  <script>
    (function () {
      var button = document.getElementById("whatswidget-button");
      var conversation = document.getElementById("whatswidget-conversation");
      var convoOuter = document.getElementById("whatswidget-conversation-message-outer");
      var chatOpen = false;

      function openChat() {
        if (!chatOpen) {
          conversation.style.display = "block";
          conversation.style.opacity = 1;
          convoOuter.style.display = "none";
          chatOpen = true;
        } else {
          conversation.style.opacity = 0;
          conversation.style.display = "none";
          chatOpen = false;
        }
      }

      if (button) button.addEventListener("click", openChat);
      if (convoOuter) convoOuter.addEventListener("click", openChat);
    })();
  </script>
</div>
<!-- End WhatsApp Widget -->




<!-- end of whatsapp overlay  -->
<!-- Bootstrap JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // sanitize phone: keep digits only
  function sanitizePhone(raw) {
    // remove non digits
    const digits = (raw || '').replace(/\D/g, '');
    return digits;
  }

  // Build widget code string (safe to embed inside <script> by using <\/script>)
  function buildWidgetCode(company, phoneDigits, greeting, outerMessage) {
    // Use phoneDigits in URLs (wa.me and web.whatsapp)
    return `<!-- WhatsApp Widget (generated) -->
<div id="whatswidget-pre-wrapper">
  <div class="whatswidget-widget-wrapper">
    <div id="whatswidget-conversation" class="whatswidget-conversation" style="display:none;opacity:0;">
      <div class="whatswidget-conversation-header">
        <div id="whatswidget-conversation-title" class="whatswidget-conversation-title text-black">${escapeHtml(company)}</div>
      </div>

      <div id="whatswidget-conversation-message" class="whatswidget-conversation-message">${escapeHtml(greeting)}</div>

      <div class="whatswidget-conversation-cta">
        <a id="whatswidget-phone-desktop" target="_blank" href="https://web.whatsapp.com/send?phone=${phoneDigits}" class="whatswidget-cta whatswidget-cta-desktop">Send message</a>
        <a id="whatswidget-phone-mobile" target="_blank" href="https://wa.me/${phoneDigits}" class="whatswidget-cta whatswidget-cta-mobile">Send message</a>
      </div>
    </div>

    <div id="whatswidget-conversation-message-outer" class="whatswidget-conversation-message-outer">
      <span id="whatswidget-text-header-outer" class="whatswidget-text-header-outer">${escapeHtml(company)}</span><br>
      <div id="whatswidget-text-message-outer" class="whatswidget-text-message-outer">${escapeHtml(outerMessage)}</div>
    </div>

    <div class="whatswidget-button-wrapper">
      <div class="whatswidget-button" id="whatswidget-button">
        <div style="margin:0 auto;width:38.5px;">
          <img class="whatswidget-icon" alt="WhatsappLogo" src="https://www.oflox.com/blog/wp-content/uploads/2021/01/wpwhite.png">
        </div>
      </div>
    </div>
  </div>

  <style>
    .whatswidget-widget-wrapper {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 16px;
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 1001;
    }
    .whatswidget-conversation {
      background-color: #e4dcd4;
      background-image: url('https://www.oflox.com/blog/wp-content/uploads/2021/01/wpbg.png');
      background-repeat: repeat;
      box-shadow: rgba(0, 0, 0, 0.16) 0px 5px 40px;
      width: 250px;
      height: 300px;
      border-radius: 10px;
      transition-duration: 0.5s;
      margin-bottom: 80px;
    }
    .whatswidget-conversation-header {
      background-color: #25D366;
      padding: 10px 25px;
      box-shadow: 0px 1px #00000029;
      font-weight: 600;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }
    .whatswidget-conversation-message {
      line-height: 1.2em;
      background-color: #25D366;
      padding: 10px;
      margin: 10px 15px;
      border-radius: 5px;
      color: white;
    }
    .whatswidget-conversation-message-outer {
      background-color: #25D366;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      box-shadow: rgba(0, 0, 0, 0.34) 0px 2.5px 10px;
      cursor: pointer;
      animation: nudge 2s linear infinite;
      margin-bottom: 70px;
      color: white;
    }
    .whatswidget-text-header-outer {
      font-weight: bold;
      font-size: 90%;
    }
    .whatswidget-text-message-outer {
      font-size: 90%;
    }
    .whatswidget-conversation-cta {
      border-radius: 25px;
      width: 175px;
      font-size: 110%;
      padding: 10px;
      margin: 0 auto;
      text-align: center;
      background-color: #23b123;
      color: white;
      font-weight: bold;
      box-shadow: rgba(0, 0, 0, 0.16) 0px 2.5px 10px;
      position: absolute;
      top: 62%;
      left: 10%;
      transition: 1s;
    }
    .whatswidget-conversation-cta:hover {
      transform: scale(1.1);
      filter: brightness(1.3);
    }
    .whatswidget-cta {
      text-decoration: none;
      color: white;
    }
    .whatswidget-cta-desktop { display: none; }
    .whatswidget-cta-mobile { display: inherit; }
    @media (min-width: 768px) {
      .whatswidget-cta-desktop { display: inherit; }
      .whatswidget-cta-mobile { display: none; }
    }
    .whatswidget-button-wrapper {
      position: fixed;
      bottom: 15px;
      right: 15px;
    }
    .whatswidget-button {
      background-color: #31d831;
      border-radius: 100%;
      width: 60px;
      height: 60px;
      box-shadow: 2px 1px #0d630d63;
      transition: 1s;
      position: relative;
    }
    .whatswidget-icon {
      width: 42px;
      height: 42px;
      position: absolute;
      bottom: 10px;
      left: 10px;
    }
    .whatswidget-button:hover {
      filter: brightness(115%);
      transform: rotate(15deg) scale(1.15);
      cursor: pointer;
    }
    @keyframes nudge {
      20%, 100% { transform: translate(0, 0); }
      0% { transform: translate(0, 5px) rotate(2deg); }
      10% { transform: translate(0, -5px) rotate(-2deg); }
    }
  </style>

  <script>
    (function () {
      var button = document.getElementById("whatswidget-button");
      var conversation = document.getElementById("whatswidget-conversation");
      var convoOuter = document.getElementById("whatswidget-conversation-message-outer");
      var chatOpen = false;

      function openChat() {
        if (!chatOpen) {
          conversation.style.display = "block";
          conversation.style.opacity = 1;
          convoOuter.style.display = "none";
          chatOpen = true;
        } else {
          conversation.style.opacity = 0;
          conversation.style.display = "none";
          chatOpen = false;
        }
      }

      if (button) button.addEventListener("click", openChat);
      if (convoOuter) convoOuter.addEventListener("click", openChat);
    })();
  <\/script>
</div>
<!-- End WhatsApp Widget -->
`;
  }

  // small helper to avoid raw HTML injection into generated preview text
  function escapeHtml(str) {
    if (!str) return '';
    return String(str).replace(/[&<>"']/g, function (s) {
      return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[s];
    });
  }

  // update preview (not by injecting the generated <script>, but by building interactive DOM)
  function updatePreview(company, phoneDigits, greeting, outerMessage) {
    const root = document.getElementById('previewArea');
    root.innerHTML = '';

    // wrapper
    const wrapper = document.createElement('div');
    wrapper.style.position = 'relative';
    wrapper.style.height = '160px';
    wrapper.style.overflow = 'hidden';

    // create the small bubble area (outer message)
    const outer = document.createElement('div');
    outer.className = 'whatswidget-conversation-message-outer preview-outer';
    outer.style.position = 'absolute';
    outer.style.right = '15px';
    outer.style.bottom = '60px';
    outer.style.width = '210px';
    outer.style.background = '#25D366';
    outer.style.color = 'white';
    outer.style.padding = '8px';
    outer.style.borderRadius = '6px';
    outer.style.boxShadow = '0 2px 10px rgba(0,0,0,.2)';
    outer.style.cursor = 'pointer';
    outer.innerHTML = `<strong style="display:block">${escapeHtml(company)}</strong><div style="font-size:.9em">${escapeHtml(outerMessage)}</div>`;

    // create the large chat panel (hidden by default)
    const convo = document.createElement('div');
    convo.className = 'preview-conversation';
    convo.style.display = 'none';
    convo.style.position = 'absolute';
    convo.style.right = '15px';
    convo.style.bottom = '60px';
    convo.style.width = '240px';
    convo.style.height = '240px';
    convo.style.borderRadius = '10px';
    convo.style.background = '#e4dcd4';
    convo.style.boxShadow = '0 5px 30px rgba(0,0,0,.15)';
    convo.innerHTML = `
      <div style="background:#25D366;color:#fff;padding:10px;border-top-left-radius:10px;border-top-right-radius:10px;font-weight:600">
        ${escapeHtml(company)}
      </div>
      <div style="padding:12px;color:#fff;background:#25D366;margin:10px;border-radius:6px;">
        ${escapeHtml(greeting)}
      </div>
      <div style="position:absolute; left:10%; top:60%; width:75%; transform:translateY(-10%);">
        <a href="https://wa.me/${phoneDigits}" target="_blank" style="display:block;text-align:center;background:#23b123;color:#fff;padding:10px;border-radius:25px;text-decoration:none;font-weight:700">Send message</a>
      </div>
    `;

    // create floating button
    const btn = document.createElement('div');
    btn.className = 'preview-btn';
    btn.style.position = 'absolute';
    btn.style.right = '15px';
    btn.style.bottom = '15px';
    btn.style.width = '60px';
    btn.style.height = '60px';
    btn.style.borderRadius = '50%';
    btn.style.background = '#31d831';
    btn.style.display = 'flex';
    btn.style.alignItems = 'center';
    btn.style.justifyContent = 'center';
    btn.style.boxShadow = '0 6px 18px rgba(0,0,0,0.15)';
    btn.style.cursor = 'pointer';

    const img = document.createElement('img');
    img.src = 'https://www.oflox.com/blog/wp-content/uploads/2021/01/wpwhite.png';
    img.alt = 'W';
    img.style.width = '36px';
    img.style.height = '36px';
    btn.appendChild(img);

    // toggle logic
    btn.addEventListener('click', () => {
      if (convo.style.display === 'none') {
        convo.style.display = 'block';
        outer.style.display = 'none';
      } else {
        convo.style.display = 'none';
        outer.style.display = 'block';
      }
    });
    outer.addEventListener('click', () => {
      convo.style.display = 'block';
      outer.style.display = 'none';
    });

    wrapper.appendChild(convo);
    wrapper.appendChild(outer);
    wrapper.appendChild(btn);
    root.appendChild(wrapper);
  }

  // main
  document.getElementById('widgetForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const company = document.getElementById('companyName').value.trim() || 'My Company';
    const rawPhone = document.getElementById('phoneNumber').value.trim() || '';
    const greeting = document.getElementById('greeting').value.trim() || 'How can we help you?';
    const outerMessage = document.getElementById('outerMessage').value.trim() || 'Need Help? Chat With Us.';

    const phoneDigits = sanitizePhone(rawPhone);
    if (!phoneDigits) {
      alert('Please enter a valid phone number with country code.');
      return;
    }

    const code = buildWidgetCode(company, phoneDigits, greeting, outerMessage);
    document.getElementById('generated').textContent = code;

    // update preview
    updatePreview(company, phoneDigits, greeting, outerMessage);
  });

  // copy code button
  document.getElementById('copyBtn').addEventListener('click', function () {
    const code = document.getElementById('generated').textContent;
    if (!code) return;
    navigator.clipboard.writeText(code).then(function () {
      const original = document.getElementById('copyBtn').textContent;
      document.getElementById('copyBtn').textContent = 'Copied!';
      setTimeout(() => { document.getElementById('copyBtn').textContent = original; }, 1500);
    }, function (err) {
      alert('Copy failed :(');
    });
  });

  // download as html
  document.getElementById('downloadBtn').addEventListener('click', function () {
    const code = document.getElementById('generated').textContent;
    if (!code) { alert('Generate code first'); return; }
    const fullHtml = `<!doctype html>\n<html>\n<head>\n<meta charset="utf-8">\n<meta name="viewport" content="width=device-width,initial-scale=1">\n<title>WhatsApp Widget</title>\n</head>\n<body>\n${code}\n</body>\n</html>`;
    const blob = new Blob([fullHtml], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'whatsapp-widget.html';
    document.body.appendChild(a);
    a.click();
    setTimeout(() => { URL.revokeObjectURL(url); a.remove(); }, 100);
  });

  // small helper to escape HTML in the generated preview
  function escapeHtml(s) {
    if (!s) return '';
    return s.replace(/[&<>"']/g, function (m) {
      return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m];
    });
  }

  // initial sample preview
  updatePreview('Company/Website Name', sanitizePhone('+233123456789'), 'How can we help you?', 'Need Help? Chat With Us.');
  document.getElementById('companyName').value = 'Company/Website Name';
  document.getElementById('phoneNumber').value = '+233 12 345 6789';
  document.getElementById('greeting').value = 'How can we help you?';
  document.getElementById('outerMessage').value = 'Need Help? Chat With Us.';
</script>
</body>
</html>
